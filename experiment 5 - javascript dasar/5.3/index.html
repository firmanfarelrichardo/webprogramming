<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <title>Event Listener</title>
    <style>
        .container { margin: 20px 0; padding: 15px; border: 1px solid #ddd; }
        .active { background-color: #e7f3ff; }
        .counter { font-size: 24px; font-weight: bold; }
        .log { background: #f5f5f5; padding: 10px; height: 150px; overflow-y: auto; }
    </style>
</head>
<body>
    <h2>Event Listener dalam JavaScript</h2>
    
    <div class="container">
        <h3>1. Click Events</h3>
        <button id="btnClick">Klik Saya</button>
        <button id="btnDoubleClick">Double Klik</button>
        <div class="counter">
            Single Click: <span id="clickCount">0</span> | 
            Double Click: <span id="doubleClickCount">0</span>
        </div>
    </div>
    
    <div class="container">
        <h3>2. Mouse Events</h3>
        <div id="mouseArea" style="width: 200px; height: 100px; background: #f0f0f0; border: 1px solid #ccc; padding: 10px;">
            Arahkan mouse ke sini
        </div>
        <p id="mouseInfo">Status: -</p>
    </div>
    
    <div class="container">
        <h3>3. Keyboard Events</h3>
        <input type="text" id="textInput" placeholder="Ketik sesuatu...">
        <p>Karakter yang diketik: <span id="charCount">0</span></p>
        <p id="lastKey">Key terakhir: -</p>
    </div>
    
    <div class="container">
        <h3>4. Form Events</h3>
        <form id="demoForm">
            <input type="text" id="formInput" placeholder="Nama" required>
            <select id="formSelect">
                <option value="">Pilih Kota</option>
                <option value="jakarta">Jakarta</option>
                <option value="bandung">Bandung</option>
                <option value="surabaya">Surabaya</option>
            </select>
            <button type="submit">Submit</button>
        </form>
        <div id="formResult"></div>
    </div>
    
    <div class="container">
        <h3>5. Event Log</h3>
        <div id="eventLog" class="log"></div>
        <button onclick="clearLog()">Clear Log</button>
    </div>
    
    <script>
        let clickCount = 0;
        let doubleClickCount = 0;
        
        function logEvent(message) {
            const log = document.getElementById("eventLog");
            const time = new Date().toLocaleTimeString();
            log.innerHTML += `<div>[${time}] ${message}</div>`;
            log.scrollTop = log.scrollHeight;
        }
        
        document.getElementById("btnClick").addEventListener("click", function() {
            clickCount++;
            document.getElementById("clickCount").innerText = clickCount;
            logEvent("Button diklik (single click)");
        });
        
        document.getElementById("btnDoubleClick").addEventListener("dblclick", function() {
            doubleClickCount++;
            document.getElementById("doubleClickCount").innerText = doubleClickCount;
            logEvent("Button diklik (double click)");
        });
        
        const mouseArea = document.getElementById("mouseArea");
        const mouseInfo = document.getElementById("mouseInfo");
        
        mouseArea.addEventListener("mouseenter", function() {
            mouseArea.style.backgroundColor = "#e7f3ff";
            mouseInfo.innerText = "Status: Mouse entered";
            logEvent("Mouse masuk ke area");
        });
        
        mouseArea.addEventListener("mouseleave", function() {
            mouseArea.style.backgroundColor = "#f0f0f0";
            mouseInfo.innerText = "Status: Mouse left";
            logEvent("Mouse keluar dari area");
        });
        
        mouseArea.addEventListener("mousemove", function(event) {
            const rect = mouseArea.getBoundingClientRect();
            const x = event.clientX - rect.left;
            const y = event.clientY - rect.top;
            mouseInfo.innerText = `Status: Mouse at (${Math.round(x)}, ${Math.round(y)})`;
        });
        
        const textInput = document.getElementById("textInput");
        const charCount = document.getElementById("charCount");
        const lastKey = document.getElementById("lastKey");
        
        textInput.addEventListener("input", function() {
            charCount.innerText = this.value.length;
            logEvent(`Input berubah: "${this.value}"`);
        });
        
        textInput.addEventListener("keydown", function(event) {
            lastKey.innerText = `Key terakhir: ${event.key}`;
            logEvent(`Key ditekan: ${event.key}`);
        });
        
        const demoForm = document.getElementById("demoForm");
        const formInput = document.getElementById("formInput");
        const formSelect = document.getElementById("formSelect");
        const formResult = document.getElementById("formResult");
        
        demoForm.addEventListener("submit", function(event) {
            event.preventDefault(); 
            
            const nama = formInput.value;
            const kota = formSelect.value;
            
            if (nama && kota) {
                formResult.innerHTML = `
                    <div style="background: #d4edda; padding: 10px; margin-top: 10px; border-radius: 5px;">
                        <strong>Data Form:</strong><br>
                        Nama: ${nama}<br>
                        Kota: ${kota}
                    </div>
                `;
                logEvent(`Form submitted: ${nama} dari ${kota}`);
            } else {
                formResult.innerHTML = `
                    <div style="background: #f8d7da; padding: 10px; margin-top: 10px; border-radius: 5px; color: red;">
                        Mohon lengkapi semua field!
                    </div>
                `;
            }
        });
        
        formSelect.addEventListener("change", function() {
            logEvent(`Select berubah ke: ${this.value}`);
        });
        
        function clearLog() {
            document.getElementById("eventLog").innerHTML = "";
            logEvent("Log dibersihkan");
        }
        
        logEvent("Halaman loaded, event listener aktif");
    </script>
</body>
</html>